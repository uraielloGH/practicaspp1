{% extends 'base.html.twig' %}

{% block title %}Recuperar contraseña - Brekky{% endblock %}

{% block body %}
<div class="auth-wrapper">
    <div class="auth-card brekky-card">

        {# Título de la pantalla de recuperación (parte del flujo alternativo del CU002) #}
        <h1 class="page-title">¿Olvidaste tu contraseña?</h1>
        <p class="page-subtitle">
            Ingresá el correo electrónico con el que te registraste.
            Te enviaremos instrucciones para crear una nueva contraseña.
        </p>

        {# Mensajes flash que envía el SecurityController:
           - Si existe un usuario con ese mail → mostramos éxito genérico
           - Si el campo está vacío → error
        #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="flash-message brekky-card" style="margin-bottom: 10px;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        {# Form simple con un único campo: email #}
        <form method="post" class="js-loading-form">

            <div class="brekky-form-row">
                <label for="inputEmail">Correo electrónico</label>
                <input
                    type="email"
                    id="inputEmail"
                    name="email"
                    required
                    autofocus
                >
            </div>

            <button type="submit" class="btn-brekky">
                Enviar instrucciones
            </button>
        </form>

        {# Link para volver al login #}
        <p class="auth-secondary">
            ¿Te acordaste de la contraseña?
            <a href="{{ path('app_login') }}">Volver a iniciar sesión</a>
        </p>

    </div>
</div>
{% endblock %}
